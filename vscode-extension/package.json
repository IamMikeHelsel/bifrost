{
  "name": "bifrost",
  "displayName": "Bifrost Industrial IoT",
  "description": "Bridge OT equipment to modern IT infrastructure with real-time monitoring, device discovery, and protocol debugging",
  "version": "0.1.0",
  "publisher": "bifrost-team",
  "icon": "media/bifrost-icon.png",
  "engines": {
    "node": ">=18.0.0"
  },
  "categories": [
    "Other",
    "Debuggers",
    "Visualization"
  ],
  "keywords": [
    "industrial",
    "iot",
    "modbus",
    "opcua",
    "plc",
    "scada",
    "automation"
  ],
  "activationEvents": [
    "onCommand:bifrost.discover",
    "onCommand:bifrost.connect",
    "onCommand:bifrost.monitor",
    "onView:bifrostDevices",
    "onView:bifrostData"
  ],
  "main": "./out/extension.js",
  "contributes": {
    "commands": [
      {
        "command": "bifrost.discover",
        "title": "Discover Industrial Devices",
        "category": "Bifrost",
        "icon": "$(search)"
      },
      {
        "command": "bifrost.connect",
        "title": "Connect to Device",
        "category": "Bifrost",
        "icon": "$(plug)"
      },
      {
        "command": "bifrost.disconnect",
        "title": "Disconnect from Device",
        "category": "Bifrost",
        "icon": "$(debug-disconnect)"
      },
      {
        "command": "bifrost.monitor",
        "title": "Open Real-time Monitor",
        "category": "Bifrost",
        "icon": "$(graph)"
      },
      {
        "command": "bifrost.refreshDevices",
        "title": "Refresh Devices",
        "category": "Bifrost",
        "icon": "$(refresh)"
      },
      {
        "command": "bifrost.readTag",
        "title": "Read Tag Value",
        "category": "Bifrost"
      },
      {
        "command": "bifrost.writeTag",
        "title": "Write Tag Value",
        "category": "Bifrost"
      },
      {
        "command": "bifrost.exportData",
        "title": "Export Data",
        "category": "Bifrost",
        "icon": "$(export)"
      },
      {
        "command": "bifrost.enableTypescriptGo",
        "title": "Enable TypeScript-Go Compiler (Experimental)",
        "category": "Bifrost"
      },
      {
        "command": "bifrost.benchmarkPerformance",
        "title": "Run Performance Benchmark",
        "category": "Bifrost"
      }
    ],
    "viewsContainers": {
      "activitybar": [
        {
          "id": "bifrost",
          "title": "Bifrost Industrial IoT",
          "icon": "media/bifrost-icon.svg"
        }
      ]
    },
    "views": {
      "bifrost": [
        {
          "id": "bifrostDevices",
          "name": "Industrial Devices",
          "icon": "$(server)",
          "contextualTitle": "Bifrost Devices"
        },
        {
          "id": "bifrostData",
          "name": "Live Data Points",
          "icon": "$(pulse)",
          "contextualTitle": "Bifrost Data"
        },
        {
          "id": "bifrostDiagnostics",
          "name": "Diagnostics",
          "icon": "$(bug)",
          "contextualTitle": "Bifrost Diagnostics"
        }
      ]
    },
    "viewsWelcome": [
      {
        "view": "bifrostDevices",
        "contents": "No industrial devices discovered.\n[Discover Devices](command:bifrost.discover)\n[Add Device Manually](command:bifrost.connect)"
      }
    ],
    "menus": {
      "view/title": [
        {
          "command": "bifrost.discover",
          "when": "view == bifrostDevices",
          "group": "navigation@1"
        },
        {
          "command": "bifrost.refreshDevices",
          "when": "view == bifrostDevices",
          "group": "navigation@2"
        },
        {
          "command": "bifrost.exportData",
          "when": "view == bifrostData",
          "group": "navigation"
        }
      ],
      "view/item/context": [
        {
          "command": "bifrost.connect",
          "when": "view == bifrostDevices && viewItem == device-disconnected",
          "group": "inline"
        },
        {
          "command": "bifrost.disconnect",
          "when": "view == bifrostDevices && viewItem == device-connected",
          "group": "inline"
        },
        {
          "command": "bifrost.monitor",
          "when": "view == bifrostDevices && viewItem == device-connected",
          "group": "navigation"
        },
        {
          "command": "bifrost.readTag",
          "when": "view == bifrostData && viewItem == tag",
          "group": "inline"
        },
        {
          "command": "bifrost.writeTag",
          "when": "view == bifrostData && viewItem == tag-writable",
          "group": "inline"
        }
      ]
    },
    "configuration": {
      "title": "Bifrost",
      "properties": {
        "bifrost.discoveryTimeout": {
          "type": "number",
          "default": 5000,
          "description": "Device discovery timeout in milliseconds"
        },
        "bifrost.defaultProtocol": {
          "type": "string",
          "enum": [
            "modbus-tcp",
            "modbus-rtu",
            "opcua",
            "ethernet-ip",
            "s7"
          ],
          "default": "modbus-tcp",
          "description": "Default protocol for device connections"
        },
        "bifrost.dataUpdateInterval": {
          "type": "number",
          "default": 1000,
          "description": "Data update interval in milliseconds"
        },
        "bifrost.maxDataPoints": {
          "type": "number",
          "default": 100,
          "description": "Maximum data points to display in charts"
        },
        "bifrost.theme": {
          "type": "string",
          "enum": [
            "industrial-dark",
            "industrial-light",
            "auto"
          ],
          "default": "auto",
          "description": "UI theme for Bifrost panels"
        },
        "bifrost.experimental.useTypescriptGo": {
          "type": "boolean",
          "default": false,
          "description": "Use experimental TypeScript-Go native compiler for 10x faster builds (requires @typescript/native-preview)"
        },
        "bifrost.performance.enableMetrics": {
          "type": "boolean",
          "default": false,
          "description": "Enable performance metrics collection and display"
        },
        "bifrost.performance.maxMemoryMB": {
          "type": "number",
          "default": 500,
          "description": "Maximum memory usage before warnings (MB)"
        },
        "bifrost.gateway.host": {
          "type": "string",
          "default": "localhost",
          "description": "Bifrost Go gateway host address"
        },
        "bifrost.gateway.port": {
          "type": "number",
          "default": 8081,
          "description": "Bifrost Go gateway port"
        },
        "bifrost.gateway.autoConnect": {
          "type": "boolean",
          "default": true,
          "description": "Automatically connect to Go gateway on extension startup"
        },
        "bifrost.realtime.enabled": {
          "type": "boolean",
          "default": true,
          "description": "Enable real-time data streaming via WebSocket"
        }
      }
    },
    "colors": [
      {
        "id": "bifrost.connectedBackground",
        "description": "Background color for connected devices",
        "defaults": {
          "dark": "#1b4332",
          "light": "#d1fae5"
        }
      },
      {
        "id": "bifrost.errorBackground",
        "description": "Background color for error states",
        "defaults": {
          "dark": "#7c2d12",
          "light": "#fee2e2"
        }
      },
      {
        "id": "bifrost.warningBackground",
        "description": "Background color for warning states",
        "defaults": {
          "dark": "#78350f",
          "light": "#fef3c7"
        }
      }
    ]
  },
  "scripts": {
    "vscode:prepublish": "npm run compile",
    "compile": "npx tsgo -p ./",
    "compile:go": "npx tsgo -p ./ || npm run compile",
    "compile:check": "node scripts/check-typescript-go.js",
    "watch": "npx tsgo -watch -p ./",
    "watch:go": "npx tsgo -watch -p ./ || npm run watch",
    "pretest": "npm run compile && npm run lint",
    "lint": "eslint src --ext ts",
    "test": "node ./out/test/runTest.js",
    "benchmark": "node scripts/benchmark-compilation.js",
    "performance:analyze": "node scripts/analyze-performance.js",
    "performance:compare": "node scripts/performance-comparison.js",
    "test:stack-decision": "npm run performance:compare"
  },
  "devDependencies": {
    "@types/node": "20.x",
    "@types/vscode": "^1.85.0",
    "@typescript-eslint/eslint-plugin": "^6.15.0",
    "@typescript-eslint/parser": "^6.15.0",
    "eslint": "^8.56.0",
    "typescript": "^5.3.3"
  },
  "optionalDependencies": {
    "@typescript/go": "^7.0.0-preview"
  },
  "dependencies": {
    "@typescript/native-preview": "^7.0.0-dev.20250705.1",
    "chart.js": "^4.4.1",
    "date-fns": "^3.0.6"
  },
  "extensionDependencies": []
}