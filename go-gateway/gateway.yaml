gateway:
  port: 8081
  grpc_port: 9090
  max_connections: 1000
  data_buffer_size: 10000
  update_interval: 1s
  enable_metrics: true
  log_level: info

# Security configuration (optional)
security:
  tls:
    enabled: false  # Set to true to enable HTTPS/WSS
    min_version: "1.3"
    cipher_suites:
      - "TLS_AES_256_GCM_SHA384"
      - "TLS_CHACHA20_POLY1305_SHA256"
    # cert_file: "/etc/ssl/certs/gateway.pem"
    # key_file: "/etc/ssl/private/gateway.key"
    # ca_file: "/etc/ssl/certs/ca.pem"
  
  industrial_security:
    encrypt_protocols: false    # Set to true for Modbus over TLS
    require_device_certs: false # Set to true for device mTLS
    encrypt_tag_data: false     # Set to true for AES-256-GCM tag encryption
    audit_all_operations: false # Set to true for comprehensive auditing
  
  key_management:
    provider: "local"  # vault, aws-kms, azure-kv (for production)
    key_rotation_enabled: false
    rotation_interval: 24h
    backup_encryption: false
  
  audit:
    enabled: false
    log_level: "info"
    log_file: "/var/log/bifrost/security.log"
    max_file_size: "100MB"
    max_backups: 5
    max_age: 30

# Messaging configuration (optional)
messaging:
  # MQTT configuration for cloud integration
  mqtt:
    enabled: false  # Set to true to enable MQTT
    broker: "tls://mqtt.example.com:8883"
    client_id: "bifrost-gateway-001"
    # username: "gateway_user"
    # password: "gateway_password"
    qos: 1
    retain: false
    
    topics:
      telemetry: "bifrost/telemetry/{site_id}/{device_id}/{tag_name}"
      commands: "bifrost/commands/{site_id}/{device_id}/{command_type}"
      alarms: "bifrost/alarms/{site_id}/{device_id}/{alarm_level}"
      events: "bifrost/events/{site_id}/{device_id}/{event_type}"
      diagnostics: "bifrost/diagnostics/{site_id}/{device_id}/{metric_name}"
    
    tls:
      enabled: false
      insecure: false
      # ca_file: "/etc/ssl/certs/mqtt-ca.pem"
      # cert_file: "/etc/ssl/certs/mqtt-client.pem"
      # key_file: "/etc/ssl/private/mqtt-client.key"
    
    keep_alive: 60s
    connect_timeout: 30s
    write_timeout: 10s
    auto_reconnect: true
    clean_session: true
  
  # NATS configuration for edge computing and high-performance messaging
  nats:
    enabled: false  # Set to true to enable NATS
    servers:
      - "tls://nats1.example.com:4222"
      - "tls://nats2.example.com:4222"
    cluster_id: "bifrost-cluster"
    client_id: "gateway-001"
    # username: "gateway_user"
    # password: "gateway_password"
    
    subjects:
      telemetry: "bifrost.telemetry.{site_id}.{device_id}.{tag_name}"
      commands: "bifrost.commands.{site_id}.{device_id}.{command_type}"
      events: "bifrost.events.{site_id}.{device_id}.{event_type}"
      control: "bifrost.control.{site_id}.{zone}.{loop}"
      coordination: "bifrost.coordination.{region}.{gateway_id}"
    
    tls:
      enabled: false
      insecure: false
      # ca_file: "/etc/ssl/certs/nats-ca.pem"
      # cert_file: "/etc/ssl/certs/nats-client.pem"
      # key_file: "/etc/ssl/private/nats-client.key"
    
    jetstream:
      enabled: false
      storage: "file"
      retention: "7d"
    
    max_reconnects: 10
    reconnect_wait: 2s
    connect_timeout: 5s
    request_timeout: 10s
    drain_timeout: 5s

protocols:
  modbus:
    default_timeout: 5s
    default_unit_id: 1
    max_connections: 100
    connection_timeout: 10s
    read_timeout: 5s
    write_timeout: 5s
    enable_keep_alive: true